<th:block th:fragment="feed">
    <th:block th:each="feed : ${feeds}">
        <div class="bg-white rounded-xl shadow-md p-5 m-3">
            <div class="flex items-center space-x-3">
                <div class="flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-700 font-bold text-lg">
                    $
                </div>
                <p class="text-sm text-gray-800">
                    <!-- Sender 스타일링 -->
                    <span th:if="${feed.senderMembership != null and feed.senderMembership.name() == 'BASIC'}"
                          th:text="${feed.senderUserId}">
                    </span>
                    <span th:if="${feed.senderMembership != null and feed.senderMembership.name() == 'PREMIUM'}"
                          class="font-bold text-blue-600 text-lg"
                          th:text="${feed.senderUserId}">
                    </span>
                    <span th:if="${feed.senderMembership != null and feed.senderMembership.name() == 'ELITE'}"
                          class="font-bold text-purple-600 text-lg"
                          th:text="${feed.senderUserId + ' ⭐'}">
                    </span>

                    <span> 님이 </span>

                    <!-- Receiver 스타일링 -->
                    <span th:if="${feed.receiverMembership != null and feed.receiverMembership.name() == 'BASIC'}"
                          th:text="${feed.receiverUserId}">
                    </span>
                    <span th:if="${feed.receiverMembership != null and feed.receiverMembership.name() == 'PREMIUM'}"
                          class="font-bold text-blue-600 text-lg"
                          th:text="${feed.receiverUserId}">
                    </span>
                    <span th:if="${feed.receiverMembership != null and feed.receiverMembership.name() == 'ELITE'}"
                          class="font-bold text-purple-600 text-lg"
                          th:text="${feed.receiverUserId + ' ⭐'}">
                    </span>

                    <span> 님에게 </span>
                    <strong class="font-semibold" th:text="${#numbers.formatInteger(feed.amount, 0, 'COMMA')}"></strong>
                    <span>원을 보냈습니다.</span>
                </p>
            </div>
            <div class="mt-4" th:if="${feed.img != null and !feed.img.isEmpty()} or ${feed.content != null and !feed.content.isEmpty()}">
                <th:block th:if="${feed.img != null and !feed.img.isEmpty()}">
                    <img class="w-full rounded-lg object-cover aspect-video"
                         th:src="${feed.img}" alt="피드 이미지">
                </th:block>
                <th:block th:if="${feed.content != null and !feed.content.isEmpty()}">
                    <p th:if="${#strings.startsWith(feed.content, '#')}"
                       class="mt-3 text-sm font-medium text-blue-600"
                       th:text="${feed.content}">
                    </p>
                    <p th:unless="${#strings.startsWith(feed.content, '#')}"
                       class="mt-3 text-gray-700 text-sm"
                       th:text="${feed.content}">
                    </p>
                </th:block>
            </div>
            <div class="mt-2 text-right" th:if="${feed.recordTime != null}">
                <p class="text-xs text-gray-400"
                   th:text="${#temporals.format(feed.recordTime, 'yyyy-MM-dd HH:mm')}">
                </p>
            </div>
        </div>
    </th:block>

    <!-- 예시 피드들 -->
    <div class="bg-white rounded-xl shadow-md p-5 m-3">
        <div class="flex items-center space-x-3">
            <div class="flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-700 font-bold text-lg">
                $
            </div>
            <p class="text-sm text-gray-800">
                <span class="font-bold text-indigo-900 text-lg">OOO</span> 님이
                <span>XXX</span> 님에게
                <strong class="font-semibold">10,000</strong>원을 보냈습니다.
            </p>
        </div>

        <div class="mt-4">
            <img class="w-full rounded-lg object-cover aspect-video" src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=1999&auto=format&fit=crop" alt="시계 이미지">

            <p class="mt-3 text-sm font-medium text-blue-600">#FLEX</p>
        </div>
        <div class="mt-2 text-right">
            <p class="text-xs text-gray-400">
                2025-10-26 14:33
            </p>
        </div>
    </div>


    <div class="bg-white rounded-xl shadow-md p-5 m-3">
        <div class="flex items-center space-x-3">
            <div class="flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-green-700 font-bold text-lg">
                $
            </div>
            <p class="text-sm text-gray-800">
                <span>XXX</span> 님이
                <span>YYY</span> 님에게
                <strong class="font-semibold">100,000</strong>원을 보냈습니다.
            </p>
        </div>

        <div class="mt-3">
            <p class="text-gray-700 text-sm">치킨사먹어라</p>
        </div>
        <div class="mt-2 text-right">
            <p class="text-xs text-gray-400">
                2025-10-25 17:22
            </p>
        </div>
    </div>


    <div class="bg-white rounded-xl shadow-md p-5 m-3">
        <div class="flex items-center space-x-3">
            <div class="flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-teal-100 text-teal-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                </svg>
            </div>
            <p class="text-sm text-gray-800">
                <strong class="font-bold text-lg text-red-900">ZZZ ⭐</strong> 님 3주차 적금 완료!
            </p>
        </div>

        <div class="mt-4">
            <img class="w-full rounded-lg object-cover aspect-video" src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?q=80&w=1974&auto=format&fit=crop" alt="축하 이미지">
        </div>
        <div class="mt-2 text-right">
            <p class="text-xs text-gray-400">
                2025-10-25 13:22
            </p>
        </div>
    </div>
</th:block>